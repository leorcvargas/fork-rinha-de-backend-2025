
 Network igorfvicente_payment-network  Creating
 Network igorfvicente_payment-network  Created
 Container payment-redis  Creating
 Container payment-redis  Created
 Container payment-api-2  Creating
 Container payment-api-1  Creating
 Container payment-api-2  Created
 Container payment-api-1  Created
 Container payment-nginx  Creating
 Container payment-nginx  Created
Attaching to payment-api-1, payment-api-2, payment-nginx, payment-redis
payment-redis  | 1:C 18 Aug 2025 05:05:29.852 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
payment-redis  | 1:C 18 Aug 2025 05:05:29.852 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
payment-redis  | 1:C 18 Aug 2025 05:05:29.852 * Redis version=7.4.5, bits=64, commit=00000000, modified=0, pid=1, just started
payment-redis  | 1:C 18 Aug 2025 05:05:29.852 * Configuration loaded
payment-redis  | 1:M 18 Aug 2025 05:05:29.852 * monotonic clock: POSIX clock_gettime
payment-redis  | 1:M 18 Aug 2025 05:05:29.854 * Running mode=standalone, port=6379.
payment-redis  | 1:M 18 Aug 2025 05:05:29.854 * Server initialized
payment-redis  | 1:M 18 Aug 2025 05:05:29.854 * Ready to accept connections tcp
payment-api-2  | 2025/08/18 05:05:30 Redis connection initialized successfully
payment-api-1  | 2025/08/18 05:05:30 Redis connection initialized successfully
payment-api-1  | 2025/08/18 05:05:30 Updating health cache...
payment-api-2  | 2025/08/18 05:05:30 Updating health cache...
payment-nginx  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
payment-nginx  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
payment-nginx  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
payment-nginx  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
payment-nginx  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
payment-nginx  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
payment-nginx  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
payment-nginx  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
payment-nginx  | /docker-entrypoint.sh: Configuration complete; ready for start up
payment-api-2  | 2025/08/18 05:05:35 Initial health cache - Default failing: false, Fallback failing: false
payment-api-2  | 2025/08/18 05:05:35 Worker 2 started
payment-api-2  | 2025/08/18 05:05:35 Worker 15 started
payment-api-2  | 2025/08/18 05:05:35 Server starting on TCP port: 8080
payment-api-2  | 2025/08/18 05:05:35 Worker 16 started
payment-api-2  | 2025/08/18 05:05:35 Worker 1 started
payment-api-2  | 2025/08/18 05:05:35 Worker 12 started
payment-api-2  | 2025/08/18 05:05:35 Worker 13 started
payment-api-2  | 2025/08/18 05:05:35 Worker 14 started
payment-api-2  | 2025/08/18 05:05:35 Worker 17 started
payment-api-2  | 2025/08/18 05:05:35 Worker 18 started
payment-api-2  | 2025/08/18 05:05:35 Worker 6 started
payment-api-2  | 2025/08/18 05:05:35 Worker 19 started
payment-api-2  | 2025/08/18 05:05:35 Worker 11 started
payment-api-2  | 2025/08/18 05:05:35 Worker 3 started
payment-api-2  | 2025/08/18 05:05:35 Worker 20 started
payment-api-2  | 2025/08/18 05:05:35 Worker 4 started
payment-api-2  | 2025/08/18 05:05:35 Worker 7 started
payment-api-2  | 2025/08/18 05:05:35 Worker 5 started
payment-api-2  | 2025/08/18 05:05:35 Worker 8 started
payment-api-2  | 2025/08/18 05:05:35 Worker 9 started
payment-api-2  | 2025/08/18 05:05:35 Worker 10 started
payment-api-1  | 2025/08/18 05:05:35 Initial health cache - Default failing: false, Fallback failing: false
payment-api-1  | 2025/08/18 05:05:35 Worker 9 started
payment-api-1  | 2025/08/18 05:05:35 Worker 14 started
payment-api-1  | 2025/08/18 05:05:35 Worker 5 started
payment-api-1  | 2025/08/18 05:05:35 Server starting on TCP port: 8080
payment-api-1  | 2025/08/18 05:05:35 Worker 15 started
payment-api-1  | 2025/08/18 05:05:35 Worker 6 started
payment-api-1  | 2025/08/18 05:05:35 Worker 18 started
payment-api-1  | 2025/08/18 05:05:35 Worker 20 started
payment-api-1  | 2025/08/18 05:05:35 Worker 16 started
payment-api-1  | 2025/08/18 05:05:35 Worker 19 started
payment-api-1  | 2025/08/18 05:05:35 Worker 17 started
payment-api-1  | 2025/08/18 05:05:35 Worker 10 started
payment-api-1  | 2025/08/18 05:05:35 Worker 7 started
payment-api-1  | 2025/08/18 05:05:35 Worker 2 started
payment-api-1  | 2025/08/18 05:05:35 Worker 8 started
payment-api-1  | 2025/08/18 05:05:35 Worker 3 started
payment-api-1  | 2025/08/18 05:05:35 Worker 4 started
payment-api-1  | 2025/08/18 05:05:35 Worker 11 started
payment-api-1  | 2025/08/18 05:05:35 Worker 12 started
payment-api-1  | 2025/08/18 05:05:35 Worker 13 started
payment-api-1  | 2025/08/18 05:05:35 Worker 1 started
payment-api-2  | 2025/08/18 05:05:44 All payments purged from Redis
payment-api-1  | 2025/08/18 05:05:55 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-1  | 2025/08/18 05:05:55 Fallback processor status changed to UNHEALTHY by health service
payment-api-1  | 2025/08/18 05:06:00 Fallback processor status changed to HEALTHY by health service
payment-api-2  | 2025/08/18 05:06:05 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-2  | 2025/08/18 05:06:05 Fallback processor status changed to UNHEALTHY by health service
payment-api-2  | 2025/08/18 05:06:10 Fallback processor status changed to HEALTHY by health service
payment-api-1  | 2025/08/18 05:06:15 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-1  | 2025/08/18 05:06:15 Fallback processor status changed to UNHEALTHY by health service
payment-api-1  | 2025/08/18 05:06:20 Fallback processor status changed to HEALTHY by health service
payment-api-2  | 2025/08/18 05:06:25 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-2  | 2025/08/18 05:06:25 Fallback processor status changed to UNHEALTHY by health service
payment-api-2  | 2025/08/18 05:06:30 Fallback processor status changed to HEALTHY by health service
payment-api-1  | 2025/08/18 05:06:35 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-1  | 2025/08/18 05:06:35 Fallback processor status changed to UNHEALTHY by health service
payment-redis  | 1:M 18 Aug 2025 05:06:44.339 * 10000 changes in 60 seconds. Saving...
payment-redis  | 1:M 18 Aug 2025 05:06:44.339 * Background saving started by pid 21
payment-redis  | 21:C 18 Aug 2025 05:06:44.353 * DB saved on disk
payment-redis  | 21:C 18 Aug 2025 05:06:44.353 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
payment-redis  | 1:M 18 Aug 2025 05:06:44.440 * Background saving terminated with success
payment-api-1  | 2025/08/18 05:06:45 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-1  | 2025/08/18 05:06:51 Fallback processor status changed to HEALTHY by health service
payment-api-1  | 2025/08/18 05:07:01 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-1  | 2025/08/18 05:07:01 Fallback processor status changed to UNHEALTHY by health service
payment-api-1  | 2025/08/18 05:07:06 Fallback processor status changed to HEALTHY by health service
payment-api-2  | 2025/08/18 05:07:11 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-2  | 2025/08/18 05:07:11 Fallback processor status changed to UNHEALTHY by health service
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:14 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Fallback processor status changed to HEALTHY by health service
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:16 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:17 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:19 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:20 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:22 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:23 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:25 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:26 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:28 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:29 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:31 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-1  | 2025/08/18 05:07:31 Fallback processor status changed to UNHEALTHY by health service
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:31 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:32 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:34 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Fallback processor status changed to HEALTHY by health service
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:36 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:37 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:39 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:40 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:41 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-2  | 2025/08/18 05:07:41 Fallback processor status changed to UNHEALTHY by health service
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:42 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:43 Error response from http://payment-processor-default:8080: status 500, body: 
payment-redis  | 1:M 18 Aug 2025 05:07:45.084 * 10000 changes in 60 seconds. Saving...
payment-redis  | 1:M 18 Aug 2025 05:07:45.085 * Background saving started by pid 22
payment-redis  | 22:C 18 Aug 2025 05:07:45.110 * DB saved on disk
payment-redis  | 22:C 18 Aug 2025 05:07:45.110 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
payment-redis  | 1:M 18 Aug 2025 05:07:45.186 * Background saving terminated with success
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:45 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:46 Fallback processor status changed to HEALTHY by health service
payment-api-2  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:50 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:51 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-1  | 2025/08/18 05:07:51 Fallback processor status changed to UNHEALTHY by health service
payment-api-2  | 2025/08/18 05:07:55 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:55 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:55 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:55 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:07:55 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:55 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:55 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:55 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:07:56 Fallback processor status changed to HEALTHY by health service
payment-api-2  | 2025/08/18 05:08:00 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:00 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:00 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:00 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:00 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:00 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:00 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:00 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:00 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:05 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:05 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:06 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-1  | 2025/08/18 05:08:06 Fallback processor status changed to UNHEALTHY by health service
payment-api-2  | 2025/08/18 05:08:10 Error response from http://payment-processor-default:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:11 Fallback processor status changed to HEALTHY by health service
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:15 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-1  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:15 Error response from http://payment-processor-fallback:8080: status 500, body: 
payment-api-2  | 2025/08/18 05:08:16 Error checking fallback processor health: Get "http://payment-processor-fallback:8080/payments/service-health": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
payment-api-2  | 2025/08/18 05:08:16 Fallback processor status changed to UNHEALTHY by health service
payment-api-1  | 2025/08/18 05:08:16 Fallback processor status changed to UNHEALTHY by health service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8dee4037-faa6-4cfe-b89a-794476eb6444. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 1a2087d7-1864-4aa2-b7bd-69687217b91c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 136cac11-fea0-4e34-bdd2-d5e7cc52ef92. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 100841c1-444a-4d58-b12f-5563247d4f87. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 3531f1eb-1fa9-4d86-9137-3039446c9b0d. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 81583d99-8fa1-4a7d-bc0d-7d3fad05a5a1. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: e86b10ec-7722-46e3-bff3-a9e0e9cd8e27. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 9c441969-4d34-4cb5-8214-2a9c729199f9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: baab1ca9-4835-4926-a6ef-0c039173ad04. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 5056c38b-fa9b-4d39-ab79-11601634a7dd. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cfedb39b-889d-4022-9a39-0d880c0acfc5. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: ec5ee6e6-3d7e-4978-bf4f-63a95fc6c283. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: c1319f83-4bdc-4d53-9400-c5c143337db9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 1e327513-a776-4c15-b2ac-a7193d558614. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 02fccc46-66fe-4564-b02f-1b65eddbae14. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65b758be-d276-4705-b70a-423bd6851d60. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8b210517-bd2e-4354-aead-c76a3eff9ebc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: de3b2a35-48c2-4d50-8c92-4c10a64882d0. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a539715d-7578-4eca-8ee3-24d8d7611462. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ae8fba8-d6cd-4dd8-a314-7852ec237188. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: d92f7714-c5cb-4afc-8889-c47f9dd84caf. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65ae4193-c5fa-49dd-bb48-f71d7ccc47a9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: ae0838dd-4272-415f-846d-fb102e6db57a. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 40effaa7-038e-4b56-bea7-c1c3b8738554. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: b6c48b97-fe82-494f-8c6a-bbabdbb6d96e. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: bc85b10e-4e1f-4e8e-981a-8ec3f23159a3. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: aa4c997d-7e26-44fc-a7c0-303f97473712. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: c3d222c3-b452-4374-9d98-29ddd2d3a166. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 92b1956a-17a9-4b11-9d2f-8234cc6f99eb. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a9c8fc01-39ae-45aa-b7b6-a620f8292dd1. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cc3915c4-d75d-4c42-acd2-265ed7fb65fe. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 93564385-9ea7-4a1a-ae63-75248fc8efb8. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a545e1a7-9c9d-4866-8d6f-8ef375e16015. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: d06a5103-8e27-47ce-b2fd-51bb264b5bd0. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cf670559-d491-48ee-985f-7e7cc29edd75. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 2cdf07bd-2cf9-4508-95a2-028fe045bf76. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ebeec6b-4f46-400b-b5ad-2adbacacf93c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 4ea4af11-694f-437b-a3cc-6f2418be2d07. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 617d8947-8a99-415c-a39b-82ae21422db8. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 20be0385-d7fe-46e1-8ab7-b53b97fdcecc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:22 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8dee4037-faa6-4cfe-b89a-794476eb6444. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 1a2087d7-1864-4aa2-b7bd-69687217b91c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 9c441969-4d34-4cb5-8214-2a9c729199f9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 136cac11-fea0-4e34-bdd2-d5e7cc52ef92. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 100841c1-444a-4d58-b12f-5563247d4f87. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 02fccc46-66fe-4564-b02f-1b65eddbae14. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: baab1ca9-4835-4926-a6ef-0c039173ad04. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: e86b10ec-7722-46e3-bff3-a9e0e9cd8e27. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: ec5ee6e6-3d7e-4978-bf4f-63a95fc6c283. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 81583d99-8fa1-4a7d-bc0d-7d3fad05a5a1. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: de3b2a35-48c2-4d50-8c92-4c10a64882d0. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cfedb39b-889d-4022-9a39-0d880c0acfc5. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65b758be-d276-4705-b70a-423bd6851d60. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 5056c38b-fa9b-4d39-ab79-11601634a7dd. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 1e327513-a776-4c15-b2ac-a7193d558614. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: c1319f83-4bdc-4d53-9400-c5c143337db9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8b210517-bd2e-4354-aead-c76a3eff9ebc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 3531f1eb-1fa9-4d86-9137-3039446c9b0d. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a539715d-7578-4eca-8ee3-24d8d7611462. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ae8fba8-d6cd-4dd8-a314-7852ec237188. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a9c8fc01-39ae-45aa-b7b6-a620f8292dd1. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 93564385-9ea7-4a1a-ae63-75248fc8efb8. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ebeec6b-4f46-400b-b5ad-2adbacacf93c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: d06a5103-8e27-47ce-b2fd-51bb264b5bd0. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 2cdf07bd-2cf9-4508-95a2-028fe045bf76. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: d92f7714-c5cb-4afc-8889-c47f9dd84caf. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 20be0385-d7fe-46e1-8ab7-b53b97fdcecc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 617d8947-8a99-415c-a39b-82ae21422db8. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cc3915c4-d75d-4c42-acd2-265ed7fb65fe. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 4ea4af11-694f-437b-a3cc-6f2418be2d07. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: c3d222c3-b452-4374-9d98-29ddd2d3a166. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a545e1a7-9c9d-4866-8d6f-8ef375e16015. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 92b1956a-17a9-4b11-9d2f-8234cc6f99eb. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65ae4193-c5fa-49dd-bb48-f71d7ccc47a9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: b6c48b97-fe82-494f-8c6a-bbabdbb6d96e. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: aa4c997d-7e26-44fc-a7c0-303f97473712. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 40effaa7-038e-4b56-bea7-c1c3b8738554. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: bc85b10e-4e1f-4e8e-981a-8ec3f23159a3. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cf670559-d491-48ee-985f-7e7cc29edd75. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: ae0838dd-4272-415f-846d-fb102e6db57a. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 02fccc46-66fe-4564-b02f-1b65eddbae14. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: baab1ca9-4835-4926-a6ef-0c039173ad04. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: e86b10ec-7722-46e3-bff3-a9e0e9cd8e27. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 1a2087d7-1864-4aa2-b7bd-69687217b91c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8dee4037-faa6-4cfe-b89a-794476eb6444. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 136cac11-fea0-4e34-bdd2-d5e7cc52ef92. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 100841c1-444a-4d58-b12f-5563247d4f87. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: ec5ee6e6-3d7e-4978-bf4f-63a95fc6c283. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65b758be-d276-4705-b70a-423bd6851d60. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 81583d99-8fa1-4a7d-bc0d-7d3fad05a5a1. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 5056c38b-fa9b-4d39-ab79-11601634a7dd. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 9c441969-4d34-4cb5-8214-2a9c729199f9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 1e327513-a776-4c15-b2ac-a7193d558614. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: de3b2a35-48c2-4d50-8c92-4c10a64882d0. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 3531f1eb-1fa9-4d86-9137-3039446c9b0d. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cfedb39b-889d-4022-9a39-0d880c0acfc5. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: b6c48b97-fe82-494f-8c6a-bbabdbb6d96e. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65ae4193-c5fa-49dd-bb48-f71d7ccc47a9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 4ea4af11-694f-437b-a3cc-6f2418be2d07. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a545e1a7-9c9d-4866-8d6f-8ef375e16015. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 20be0385-d7fe-46e1-8ab7-b53b97fdcecc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 40effaa7-038e-4b56-bea7-c1c3b8738554. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cf670559-d491-48ee-985f-7e7cc29edd75. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: bc85b10e-4e1f-4e8e-981a-8ec3f23159a3. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: ae0838dd-4272-415f-846d-fb102e6db57a. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 02fccc46-66fe-4564-b02f-1b65eddbae14. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 617d8947-8a99-415c-a39b-82ae21422db8. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cc3915c4-d75d-4c42-acd2-265ed7fb65fe. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 136cac11-fea0-4e34-bdd2-d5e7cc52ef92. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: aa4c997d-7e26-44fc-a7c0-303f97473712. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 1a2087d7-1864-4aa2-b7bd-69687217b91c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: baab1ca9-4835-4926-a6ef-0c039173ad04. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 100841c1-444a-4d58-b12f-5563247d4f87. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8dee4037-faa6-4cfe-b89a-794476eb6444. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: e86b10ec-7722-46e3-bff3-a9e0e9cd8e27. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65b758be-d276-4705-b70a-423bd6851d60. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 20be0385-d7fe-46e1-8ab7-b53b97fdcecc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 40effaa7-038e-4b56-bea7-c1c3b8738554. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a545e1a7-9c9d-4866-8d6f-8ef375e16015. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: b6c48b97-fe82-494f-8c6a-bbabdbb6d96e. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: c3d222c3-b452-4374-9d98-29ddd2d3a166. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 93564385-9ea7-4a1a-ae63-75248fc8efb8. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: d06a5103-8e27-47ce-b2fd-51bb264b5bd0. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a539715d-7578-4eca-8ee3-24d8d7611462. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ae8fba8-d6cd-4dd8-a314-7852ec237188. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: d92f7714-c5cb-4afc-8889-c47f9dd84caf. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 2cdf07bd-2cf9-4508-95a2-028fe045bf76. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a9c8fc01-39ae-45aa-b7b6-a620f8292dd1. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8b210517-bd2e-4354-aead-c76a3eff9ebc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: baab1ca9-4835-4926-a6ef-0c039173ad04. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: c1319f83-4bdc-4d53-9400-c5c143337db9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ebeec6b-4f46-400b-b5ad-2adbacacf93c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 92b1956a-17a9-4b11-9d2f-8234cc6f99eb. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 100841c1-444a-4d58-b12f-5563247d4f87. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65b758be-d276-4705-b70a-423bd6851d60. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: c1319f83-4bdc-4d53-9400-c5c143337db9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8b210517-bd2e-4354-aead-c76a3eff9ebc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: b6c48b97-fe82-494f-8c6a-bbabdbb6d96e. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ebeec6b-4f46-400b-b5ad-2adbacacf93c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 93564385-9ea7-4a1a-ae63-75248fc8efb8. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a545e1a7-9c9d-4866-8d6f-8ef375e16015. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: d06a5103-8e27-47ce-b2fd-51bb264b5bd0. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8dee4037-faa6-4cfe-b89a-794476eb6444. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: e86b10ec-7722-46e3-bff3-a9e0e9cd8e27. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a539715d-7578-4eca-8ee3-24d8d7611462. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: baab1ca9-4835-4926-a6ef-0c039173ad04. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 40effaa7-038e-4b56-bea7-c1c3b8738554. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a9c8fc01-39ae-45aa-b7b6-a620f8292dd1. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 2cdf07bd-2cf9-4508-95a2-028fe045bf76. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: c3d222c3-b452-4374-9d98-29ddd2d3a166. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ae8fba8-d6cd-4dd8-a314-7852ec237188. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: d92f7714-c5cb-4afc-8889-c47f9dd84caf. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 1a2087d7-1864-4aa2-b7bd-69687217b91c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 100841c1-444a-4d58-b12f-5563247d4f87. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65b758be-d276-4705-b70a-423bd6851d60. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: a545e1a7-9c9d-4866-8d6f-8ef375e16015. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 20be0385-d7fe-46e1-8ab7-b53b97fdcecc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8b210517-bd2e-4354-aead-c76a3eff9ebc. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: c1319f83-4bdc-4d53-9400-c5c143337db9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 8dee4037-faa6-4cfe-b89a-794476eb6444. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 92b1956a-17a9-4b11-9d2f-8234cc6f99eb. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: d06a5103-8e27-47ce-b2fd-51bb264b5bd0. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 3531f1eb-1fa9-4d86-9137-3039446c9b0d. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cfedb39b-889d-4022-9a39-0d880c0acfc5. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 4ea4af11-694f-437b-a3cc-6f2418be2d07. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 617d8947-8a99-415c-a39b-82ae21422db8. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: ec5ee6e6-3d7e-4978-bf4f-63a95fc6c283. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 65ae4193-c5fa-49dd-bb48-f71d7ccc47a9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 136cac11-fea0-4e34-bdd2-d5e7cc52ef92. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: baab1ca9-4835-4926-a6ef-0c039173ad04. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ebeec6b-4f46-400b-b5ad-2adbacacf93c. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 1e327513-a776-4c15-b2ac-a7193d558614. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: ae0838dd-4272-415f-846d-fb102e6db57a. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 02fccc46-66fe-4564-b02f-1b65eddbae14. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 81583d99-8fa1-4a7d-bc0d-7d3fad05a5a1. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 5056c38b-fa9b-4d39-ab79-11601634a7dd. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: de3b2a35-48c2-4d50-8c92-4c10a64882d0. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: aa4c997d-7e26-44fc-a7c0-303f97473712. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cf670559-d491-48ee-985f-7e7cc29edd75. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as HEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: cc3915c4-d75d-4c42-acd2-265ed7fb65fe. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Default processor marked as UNHEALTHY by payment service
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: bc85b10e-4e1f-4e8e-981a-8ec3f23159a3. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 6ae8fba8-d6cd-4dd8-a314-7852ec237188. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: b6c48b97-fe82-494f-8c6a-bbabdbb6d96e. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: e86b10ec-7722-46e3-bff3-a9e0e9cd8e27. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-1  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 93564385-9ea7-4a1a-ae63-75248fc8efb8. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
payment-api-2  | 2025/08/18 05:08:23 Error response from http://payment-processor-default:8080: status 422, body: {"message":"Payment could not be processed. CorrelationId already exists: 9c441969-4d34-4cb5-8214-2a9c729199f9. Error details: Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"payments_pkey\"\n\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessageLong>d__235.MoveNext() + 0x9b4\n--- End of stack trace from previous location ---\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16) + 0x2c\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x5e6\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataReader.<NextResult>d__52.MoveNext() + 0x208f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x96c\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteReader>d__120.MoveNext() + 0x1057\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x291\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlDataSourceCommand.<ExecuteReader>d__2.MoveNext() + 0x38f\n--- End of stack trace from previous location ---\n   at Npgsql.NpgsqlCommand.<ExecuteNonQuery>d__108.MoveNext() + 0x221\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x127\n--- End of stack trace from previous location ---\n   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() + 0x507\n  Exception data:\n    Severity: ERROR\n    SqlState: 23505\n    MessageText: duplicate key value violates unique constraint \"payments_pkey\"\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\n    SchemaName: public\n    TableName: payments\n    ConstraintName: payments_pkey\n    File: nbtinsert.c\n    Line: 666\n    Routine: _bt_check_unique"}
log truncated at line 1000
