
 Network wanderdotnet_default  Creating
 Network wanderdotnet_default  Created
 Volume "wanderdotnet_postgres_data"  Creating
 Volume "wanderdotnet_postgres_data"  Created
 Container wanderdotnet-database-1  Creating
 Container wanderdotnet-cache-1  Creating
 Container wanderdotnet-database-1  Created
 Container wanderdotnet-cache-1  Created
 Container wanderdotnet-api2-1  Creating
 Container wanderdotnet-worker2-1  Creating
 Container wanderdotnet-api1-1  Creating
 Container wanderdotnet-worker1-1  Creating
 Container wanderdotnet-worker2-1  Created
 Container wanderdotnet-worker1-1  Created
 Container wanderdotnet-api1-1  Created
 Container wanderdotnet-api2-1  Created
 Container wanderdotnet-nginx-1  Creating
 Container wanderdotnet-nginx-1  Created
Attaching to api1-1, api2-1, cache-1, database-1, nginx-1, worker1-1, worker2-1
cache-1  | 1:C 19 Aug 2025 20:27:34.292 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
cache-1  | 1:C 19 Aug 2025 20:27:34.292 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
cache-1  | 1:C 19 Aug 2025 20:27:34.292 * Redis version=7.2.10, bits=64, commit=00000000, modified=0, pid=1, just started
cache-1  | 1:C 19 Aug 2025 20:27:34.292 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
database-1  | The files belonging to this database system will be owned by user "postgres".
database-1  | This user must also own the server process.
database-1  | 
database-1  | The database cluster will be initialized with locale "en_US.utf8".
database-1  | The default database encoding has accordingly been set to "UTF8".
database-1  | The default text search configuration will be set to "english".
database-1  | 
database-1  | Data page checksums are disabled.
database-1  | 
database-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok
database-1  | creating subdirectories ... ok
database-1  | selecting dynamic shared memory implementation ... posix
database-1  | selecting default max_connections ... 100
cache-1     | 1:M 19 Aug 2025 20:27:34.379 * monotonic clock: POSIX clock_gettime
cache-1     | 1:M 19 Aug 2025 20:27:34.380 * Running mode=standalone, port=6379.
cache-1     | 1:M 19 Aug 2025 20:27:34.381 * Server initialized
cache-1     | 1:M 19 Aug 2025 20:27:34.381 * Ready to accept connections tcp
database-1  | selecting default shared_buffers ... 128MB
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Health Check Service iniciado.
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Health Check Service iniciado.
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: Microsoft.Hosting.Lifetime[0]
worker1-1   |       Application started. Press Ctrl+C to shut down.
worker1-1   | info: Microsoft.Hosting.Lifetime[0]
worker1-1   |       Hosting environment: Production
worker1-1   | info: Microsoft.Hosting.Lifetime[0]
worker1-1   |       Content root path: /app
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 9.0391ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 9.2618ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 12.5437ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 13.394ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Health Check Service iniciado.
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: Microsoft.Hosting.Lifetime[0]
api1-1      |       Application started. Press Ctrl+C to shut down.
api1-1      | info: Microsoft.Hosting.Lifetime[0]
api1-1      |       Hosting environment: Production
api1-1      | info: Microsoft.Hosting.Lifetime[0]
api1-1      |       Content root path: /app
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: Microsoft.Hosting.Lifetime[0]
worker2-1   |       Application started. Press Ctrl+C to shut down.
worker2-1   | info: Microsoft.Hosting.Lifetime[0]
worker2-1   |       Hosting environment: Production
worker2-1   | info: Microsoft.Hosting.Lifetime[0]
worker2-1   |       Content root path: /app
database-1  | selecting default time zone ... UTC
database-1  | creating configuration files ... ok
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Health Check Service iniciado.
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: Microsoft.Hosting.Lifetime[0]
api2-1      |       Application started. Press Ctrl+C to shut down.
api2-1      | info: Microsoft.Hosting.Lifetime[0]
api2-1      |       Hosting environment: Production
api2-1      | info: Microsoft.Hosting.Lifetime[0]
api2-1      |       Content root path: /app
nginx-1     | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1     | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1     | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1     | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1     | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1     | /docker-entrypoint.sh: Configuration complete; ready for start up
database-1  | running bootstrap script ... ok
database-1  | sh: locale: not found
database-1  | 2025-08-19 20:27:37.105 UTC [35] WARNING:  no usable system locales were found
nginx-1     | 2025/08/19 20:27:38 [error] 30#30: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/19 20:27:38 [error] 30#30: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:27:38 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
database-1  | performing post-bootstrap initialization ... ok
database-1  | syncing data to disk ... ok
database-1  | 
database-1  | 
database-1  | Success. You can now start the database server using:
database-1  | 
database-1  |     pg_ctl -D /var/lib/postgresql/data -l logfile start
database-1  | 
database-1  | initdb: warning: enabling "trust" authentication for local connections
database-1  | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
database-1  | waiting for server to start....2025-08-19 20:27:39.253 UTC [41] LOG:  starting PostgreSQL 16.9 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
database-1  | 2025-08-19 20:27:39.254 UTC [41] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
database-1  | 2025-08-19 20:27:39.256 UTC [44] LOG:  database system was shut down at 2025-08-19 20:27:38 UTC
database-1  | 2025-08-19 20:27:39.260 UTC [41] LOG:  database system is ready to accept connections
database-1  |  done
database-1  | server started
database-1  | CREATE DATABASE
database-1  | 
database-1  | 
database-1  | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
database-1  | CREATE TABLE
database-1  | CREATE INDEX
database-1  | 
database-1  | 
database-1  | waiting for server to shut down....2025-08-19 20:27:39.648 UTC [41] LOG:  received fast shutdown request
database-1  | 2025-08-19 20:27:39.648 UTC [41] LOG:  aborting any active transactions
database-1  | 2025-08-19 20:27:39.651 UTC [41] LOG:  background worker "logical replication launcher" (PID 47) exited with exit code 1
database-1  | 2025-08-19 20:27:39.653 UTC [42] LOG:  shutting down
database-1  | 2025-08-19 20:27:39.653 UTC [42] LOG:  checkpoint starting: shutdown immediate
database-1  | 2025-08-19 20:27:39.663 UTC [42] LOG:  checkpoint complete: wrote 933 buffers (5.7%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.010 s, sync=0.001 s, total=0.011 s; sync files=0, longest=0.000 s, average=0.000 s; distance=4291 kB, estimate=4291 kB; lsn=0/1923280, redo lsn=0/1923280
database-1  | 2025-08-19 20:27:39.751 UTC [41] LOG:  database system is shut down
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 4989.0178ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5029.4073ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
database-1  |  done
database-1  | server stopped
database-1  | 
database-1  | PostgreSQL init process complete; ready for start up.
database-1  | 
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
database-1  | 2025-08-19 20:27:39.872 UTC [1] LOG:  starting PostgreSQL 16.9 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
database-1  | 2025-08-19 20:27:39.872 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
database-1  | 2025-08-19 20:27:39.872 UTC [1] LOG:  listening on IPv6 address "::", port 5432
database-1  | 2025-08-19 20:27:39.873 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
database-1  | 2025-08-19 20:27:39.875 UTC [59] LOG:  database system was shut down at 2025-08-19 20:27:39 UTC
database-1  | 2025-08-19 20:27:39.879 UTC [1] LOG:  database system is ready to accept connections
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5049.1117ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5049.1467ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
nginx-1     | 2025/08/19 20:27:43 [error] 32#32: *4 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/19 20:27:43 [error] 32#32: *4 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:27:43 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 4999.5321ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 4999.9684ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5060.1813ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5060.2558ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
nginx-1     | 2025/08/19 20:27:48 [error] 31#31: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/19 20:27:48 [error] 31#31: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:27:48 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 4938.9554ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 4939.023ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5099.5766ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5099.6009ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
nginx-1     | 2025/08/19 20:27:53 [error] 33#33: *10 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/19 20:27:53 [error] 33#33: *10 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:27:53 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 4939.2522ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 4939.3334ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5100.0196ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5100.0412ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
nginx-1     | 2025/08/19 20:27:58 [error] 30#30: *13 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/19 20:27:58 [error] 30#30: *13 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:27:58 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 4939.4953ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 4939.5732ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5100.4734ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5100.5008ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:28:03 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
nginx-1     | 2025/08/19 20:28:03 [error] 30#30: *16 no live upstreams while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5038.5922ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5038.6496ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5199.8508ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5199.8843ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:28:08 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
nginx-1     | 2025/08/19 20:28:08 [error] 30#30: *17 no live upstreams while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5037.3259ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5037.3757ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5198.3527ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5198.3734ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
nginx-1     | 2025/08/19 20:28:13 [error] 30#30: *18 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/19 20:28:13 [error] 30#30: *18 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:28:13 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 4937.956ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 4937.9968ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5098.736ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5098.7582ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:28:18 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
nginx-1     | 2025/08/19 20:28:18 [error] 30#30: *21 no live upstreams while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 4839.0205ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 4839.0631ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5099.5755ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5099.5978ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:28:23 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
nginx-1     | 2025/08/19 20:28:23 [error] 30#30: *22 no live upstreams while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 4938.3651ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 4938.4042ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5099.7084ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5099.7358ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
nginx-1     | 2025/08/19 20:28:28 [error] 30#30: *23 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/19 20:28:28 [error] 30#30: *23 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:28:28 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 4838.8925ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 4838.9356ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 4999.9416ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 4999.9721ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
nginx-1     | 2025/08/19 20:28:33 [error] 30#30: *26 no live upstreams while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:28:33 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 4838.4114ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 4838.4559ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 4999.4126ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 4999.4486ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
nginx-1     | 2025/08/19 20:28:38 [error] 30#30: *27 no live upstreams while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:28:38 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 4838.4755ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 4838.5192ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 4999.2916ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 4999.3619ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
nginx-1     | 2025/08/19 20:28:43 [error] 30#30: *28 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/19 20:28:43 [error] 30#30: *28 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.20.0.1 - - [19/Aug/2025:20:28:43 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 4937.816ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 4937.8581ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5098.7922ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5098.8153ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: Microsoft.Hosting.Lifetime[0]
worker1-1   |       Application is shutting down...
worker2-1   | info: Microsoft.Hosting.Lifetime[0]
worker2-1   |       Application is shutting down...
[Knginx-1 exited with code 0
[Kworker2-1 exited with code 0
api2-1      | info: Microsoft.Hosting.Lifetime[0]
api2-1      |       Application is shutting down...
api1-1      | info: Microsoft.Hosting.Lifetime[0]
api1-1      |       Application is shutting down...
[Kworker1-1 exited with code 0
[Kapi2-1 exited with code 0
[Kapi1-1 exited with code 0
database-1  | 2025-08-19 20:28:49.046 UTC [1] LOG:  received fast shutdown request
database-1  | 2025-08-19 20:28:49.046 UTC [1] LOG:  aborting any active transactions
cache-1     | 1:signal-handler (1755635329) Received SIGTERM scheduling shutdown...
database-1  | 2025-08-19 20:28:49.051 UTC [1] LOG:  background worker "logical replication launcher" (PID 62) exited with exit code 1
database-1  | 2025-08-19 20:28:49.051 UTC [57] LOG:  shutting down
database-1  | 2025-08-19 20:28:49.051 UTC [57] LOG:  checkpoint starting: shutdown immediate
database-1  | 2025-08-19 20:28:49.052 UTC [57] LOG:  checkpoint complete: wrote 43 buffers (0.3%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.001 s, sync=0.001 s, total=0.002 s; sync files=0, longest=0.000 s, average=0.000 s; distance=73 kB, estimate=73 kB; lsn=0/1935960, redo lsn=0/1935960
database-1  | 2025-08-19 20:28:49.058 UTC [1] LOG:  database system is shut down
cache-1     | 1:M 19 Aug 2025 20:28:49.087 * User requested shutdown...
cache-1     | 1:M 19 Aug 2025 20:28:49.087 * Saving the final RDB snapshot before exiting.
cache-1     | 1:M 19 Aug 2025 20:28:49.096 * DB saved on disk
cache-1     | 1:M 19 Aug 2025 20:28:49.096 # Redis is now ready to exit, bye bye...
